"use strict";(()=>{var e={};e.id=672,e.ids=[672],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},649:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var r={};n.r(r),n.d(r,{POST:()=>c});var s=n(9303),o=n(8716),i=n(670),a=n(7070),u=n(9178);async function c(e){try{let{password:t}=await e.json();if(!t)return a.NextResponse.json({message:"Password is required"},{status:400});let n=process.env.ADMIN_PASSWORD;if(!n)return console.error("ADMIN_PASSWORD not set in environment variables"),a.NextResponse.json({message:"Server configuration error"},{status:500});if(t!==n)return a.NextResponse.json({message:"Mật khẩu kh\xf4ng đ\xfang"},{status:401});return(0,u.mN)(),a.NextResponse.json({message:"Login successful",success:!0})}catch(e){return console.error("Error in admin login route:",e),a.NextResponse.json({message:"Internal server error"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/admin/login/route",pathname:"/api/admin/login",filename:"route",bundlePath:"app/api/admin/login/route"},resolvedPagePath:"/Users/tuanpham/MyLife/CRM-Pacificwide/event-voting/app/api/admin/login/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:m}=l,g="/api/admin/login/route";function x(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},9178:(e,t,n)=>{n.d(t,{C5:()=>a,NK:()=>i,mN:()=>o});var r=n(1615);let s="admin_session";function o(){let e={isAuthenticated:!0,loginTime:Date.now()};(0,r.cookies)().set(s,JSON.stringify(e),{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:604800,path:"/"})}function i(){(0,r.cookies)().delete(s)}function a(){let e=function(){try{let e=(0,r.cookies)().get(s);if(!e)return null;let t=JSON.parse(e.value);if(Date.now()-t.loginTime>6048e5)return i(),null;return t}catch(e){return null}}();return e?.isAuthenticated===!0}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[276,615,972],()=>n(649));module.exports=r})();
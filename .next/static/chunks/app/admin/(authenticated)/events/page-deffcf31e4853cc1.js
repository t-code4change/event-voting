(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{7698:function(e,t,r){Promise.resolve().then(r.bind(r,8129))},8129:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(7437),s=r(2265),i=r(2869),a=r(6070),c=r(5974),d=r(9397),l=r(1047),o=r(8728),u=r(1723),f=r(4438),m=r(7648);function x(){let[e,t]=(0,s.useState)([]),[r,x]=(0,s.useState)(!0);(0,s.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await fetch("/api/admin/events");if(!e.ok)throw Error("Failed to fetch events");let r=await e.json();t(r)}catch(e){console.error("Error loading events:",e),f.A.error("Kh\xf4ng thể tải danh s\xe1ch sự kiện")}finally{x(!1)}},v=e=>new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=e=>e.require_otp?(0,n.jsx)(c.C,{variant:"default",children:"Secure (OTP)"}):e.require_email&&e.require_phone?(0,n.jsx)(c.C,{variant:"secondary",children:"Email + Phone"}):e.require_email?(0,n.jsx)(c.C,{variant:"outline",children:"Quick (Email)"}):(0,n.jsx)(c.C,{variant:"outline",children:"Phone only"});return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Quản l\xfd Sự kiện"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Tạo v\xe0 quản l\xfd c\xe1c sự kiện b\xecnh chọn"})]}),(0,n.jsxs)(i.z,{className:"rounded-full",children:[(0,n.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Tạo sự kiện mới"]})]}),r?(0,n.jsx)(a.Zb,{children:(0,n.jsx)(a.aY,{className:"p-12 text-center",children:(0,n.jsx)("p",{className:"text-muted-foreground",children:"Đang tải..."})})}):0===e.length?(0,n.jsx)(a.Zb,{children:(0,n.jsxs)(a.aY,{className:"p-12 text-center space-y-4",children:[(0,n.jsx)(l.Z,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Chưa c\xf3 sự kiện n\xe0o"}),(0,n.jsx)("p",{className:"text-muted-foreground mb-4",children:"Bắt đầu bằng c\xe1ch tạo sự kiện b\xecnh chọn đầu ti\xean"})]}),(0,n.jsxs)(i.z,{className:"rounded-full",children:[(0,n.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Tạo sự kiện đầu ti\xean"]})]})}):(0,n.jsx)("div",{className:"grid gap-6",children:e.map(e=>(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,n.jsx)(a.ll,{className:"text-2xl",children:e.name}),e.is_active?(0,n.jsx)(c.C,{variant:"default",className:"animate-pulse",children:"Active"}):(0,n.jsx)(c.C,{variant:"secondary",children:"Inactive"})]}),e.description&&(0,n.jsx)("p",{className:"text-muted-foreground",children:e.description})]}),(0,n.jsx)(i.z,{variant:"outline",size:"icon",asChild:!0,children:(0,n.jsx)(m.default,{href:"/admin/events/".concat(e.id,"/settings"),children:(0,n.jsx)(o.Z,{className:"h-4 w-4"})})})]})}),(0,n.jsx)(a.aY,{children:(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center text-sm",children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,n.jsx)("span",{className:"text-muted-foreground",children:"Bắt đầu:"}),(0,n.jsx)("span",{className:"ml-2 font-medium",children:v(e.voting_start_time)})]}),(0,n.jsxs)("div",{className:"flex items-center text-sm",children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,n.jsx)("span",{className:"text-muted-foreground",children:"Kết th\xfac:"}),(0,n.jsx)("span",{className:"ml-2 font-medium",children:v(e.voting_end_time)})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"X\xe1c thực:"}),g(e.auth_settings)]})]})})]},e.id))})]})}},5974:function(e,t,r){"use strict";r.d(t,{C:function(){return c}});var n=r(7437);r(2265);var s=r(535),i=r(4508);let a=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,i.cn)(a({variant:r}),t),...s})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(7437),s=r(2265),i=r(7053),a=r(535),c=r(4508);let d=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:a,asChild:l=!1,...o}=e,u=l?i.g7:"button";return(0,n.jsx)(u,{className:(0,c.cn)(d({variant:s,size:a,className:r})),ref:t,...o})});l.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},SZ:function(){return l},Zb:function(){return a},aY:function(){return o},ll:function(){return d}});var n=r(7437),s=r(2265),i=r(4508);let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});a.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});c.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(1994),s=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1723:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[554,438,880,971,117,744],function(){return e(e.s=7698)}),_N_E=e.O()}]);